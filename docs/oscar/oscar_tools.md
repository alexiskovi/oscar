*oscar_tools* - набор утилит, позволяющий упростить навигацию по проекту и реализующий интерфейс к разрабатываему в рамках проекта ПО.

Со списком всех доступных команд можно ознакомиться, вызвав:

```
oscar help
```

Также, для быстрого набора для всех команд работает автодополнение.


### Использование вне контейнера

Вне контейнера *oscar_tools* позволяет упростить работу с контейнером, предоставляя следующие команды:

```
oscar docker start  - запуск контейнеров Apollo
oscar docker into   - открытие bash в контейнере с Apollo
oscar docker stop   - остановка контейнеров Apollo
oscarcd             - переход в корневую дирректорию Oscar
```

Для использования *oscar_tools* вне контейнера задайте соответствующие переменные окружения:

```
echo "source path-to-oscar-root/scripts/oscar/oscar_tools/setup.sh" >> ~/.bashrc
source ~/.bashrc
```


### Использование внутри контейнера

Внутри контейнера *oscar_tools* упростить и ускорить доступ к различным утилитам, как штатным, так и разрабатываемым в рамках проекта OSCAR, при этом скрыв для пользователя различия в реализации и интерфейсе. На данный момент доступны следующие модули:

* **trajectory**  - Набор утилит для генерации, исполнения и визуализации отладочных траекторий.
* **teleop**      - (на этапе разработки)
* **calibration** - утилиты для настройки контроллеров и калибровки сенсорики (на этапе разработки)

#### Генератор отладочных траекторий

Используя генератор отладочных траекторий можно генерировать простые траектории с заданными параметрами и использовать их для отладки алгоритмов управления автомобилем.

```
oscar trajectory generate - генерация траектории
oscar trajectory play     - исполнение траектории
oscar trajectory stop     - отмена исполнения траектории
oscar trajectory plot     - визуализация прохождения траектории
```

Конечный вид генерируемой траектории зависит от задаваемых параметров. В данный момент доступны два типа траекторий: **8type** и **0type** - восьмерка и овал соответственно. Оба типа имеют следующий набор параметров:

```
-r - минимальный радиус поворота, на который выйдет автомобиль при исполнении траектории
-v - желаемая максимальная скорость движения вдоль траектории
-a - ускорение автомобиля вдоль траектории до достижения желаемой максимальной скорости
-d - замедление автомобиля вдоль траектории для остановки в конечной точке.
-n - название файла с траекторией
```

Для генерации траектории, совемстимой с штатным rtk_player можно воспользоваться специальным флажком:

```
--rtk_player - файл с траекторией будет сохранен в подходящем для rtk_player виде и месте
```

Пример использования:

```
oscar trajectory generate 8type -r 5 -v 4 -a 0.4 -d 0.7 --rtk_player
```

Вид генерируемой таким образом траектории представлен на рисунке ниже.

![trajectory](images/oscar_tools/8_traj_clot_path_and_angles_full.png)
